Lã€CSSå’ŒJavaScriptä»£ç ï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å¯è¿è¡ŒDemoï¼š

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é•€é‡‘å¤©å¹³</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Didot&display=swap" rel="stylesheet">
  <style>
    /* å…¨å±€æ ·å¼ */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Inter', sans-serif;
      background-color: #000000;
      color: #ffffff;
      overflow: hidden;
    }

    /* ä¸»ç•Œé¢å¸ƒå±€ */
    #game-container {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* é¡¶éƒ¨çŠ¶æ€æ  */
    #header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 80px;
      padding: 0 20px;
      background-color: #2C3E50;
      border-bottom: 2px solid #8B4513;
    }

    .resource-bar {
      display: flex;
      align-items: center;
    }

    .resource-item {
      margin: 0 10px;
    }

    .icon {
      width: 24px;
      height: 24px;
      margin-right: 5px;
      display: inline-block;
    }

    #treasury-icon { background-color: gold; }
    #public-support-icon { background-color: #C0392B; }
    #elite-favor-icon { background-color: #8B4513; }

    .progress-bar {
      width: 200px;
      height: 20px;
      background-color: #333;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
    }

    #public-support-progress .progress-fill { background: linear-gradient(to right, #C0392B, #27ae60); }
    #elite-favor-progress .progress-fill { background: linear-gradient(to right, #8B4513, #f1c40f); }

    /* ä¸­å¤®å†³ç­–åŒº */
    #decision-area {
      display: flex;
      flex: 1;
      padding: 20px;
    }

    #policy-cards {
      display: flex;
      justify-content: center;
      width: 100%;
      gap: 20px;
    }

    .policy-card {
      width: 180px;
      height: 240px;
      background-color: #2C3E50;
      border: 1px solid #8B4513;
      border-radius: 8px;
      padding: 10px;
      cursor: grab;
      transition: transform 0.2s;
    }

    .policy-card:hover {
      transform: scale(1.05);
    }

    #execution-area {
      width: 300px;
      height: 200px;
      border: 2px dashed #8B4513;
      border-radius: 8px;
      margin: 20px auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #delay-queue {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    .delayed-card {
      width: 120px;
      height: 160px;
      background-color: #2C3E50;
      border: 1px solid #8B4513;
      border-radius: 8px;
      opacity: 0.7;
    }

    /* å³ä¾§äº‹ä»¶æµ */
    #event-stream {
      width: 320px;
      background-color: #1a1a1a;
      padding: 10px;
      border-left: 1px solid #8B4513;
    }

    #current-event {
      min-height: 200px;
      background-color: #2C3E50;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
    }

    #event-history {
      max-height: 200px;
      overflow-y: auto;
    }

    .event-item {
      padding: 5px;
      border-bottom: 1px solid #333;
    }

    #next-round-preview {
      margin-top: 10px;
      padding: 10px;
      background-color: #2C3E50;
      border-radius: 8px;
      display: flex;
      align-items: center;
    }

    #preview-lock {
      margin-right: 10px;
    }

    /* åº•éƒ¨å¯¼èˆªæ  */
    #footer {
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #2C3E50;
      border-top: 2px solid #8B4513;
    }

    #end-turn-btn {
      width: 200px;
      height: 60px;
      background: linear-gradient(to bottom, #8B4513, #5D2906);
      border: none;
      border-radius: 30px;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.1s;
    }

    #end-turn-btn:active {
      transform: scale(0.95);
    }

    .nav-icon {
      width: 40px;
      height: 40px;
      margin: 0 15px;
      background-color: #8B4513;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    /* ç²¾è‹±æ™šå®´ç•Œé¢ */
    #banquet-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #banquet-dialog {
      width: 600px;
      background-color: #2C3E50;
      border: 2px solid #8B4513;
      border-radius: 8px;
      padding: 20px;
    }

    #banquet-options {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }

    .banquet-option {
      padding: 10px 20px;
      background-color: #8B4513;
      border-radius: 4px;
      cursor: pointer;
    }

    #banquet-timer {
      font-size: 24px;
      color: #C0392B;
      margin-bottom: 20px;
    }

    /* å…³ç³»ç½‘ç•Œé¢ */
    #npc-network-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      display: none;
    }

    /* æ•°å­—é£å…¥åŠ¨ç”» */
    @keyframes flyIn {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-50px); opacity: 0; }
    }

    .resource-change {
      position: absolute;
      color: white;
      font-weight: bold;
      animation: flyIn 1s forwards;
    }

    .positive { color: #2ecc71; }
    .negative { color: #e74c3c; }
  </style>
</head>
<body>
  <div id="game-container">
    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <div id="header">
      <div class="resource-bar">
        <div class="resource-item">
          <span id="treasury-icon" class="icon"></span>
          <span id="treasury">100</span>
        </div>
      </div>
      
      <div class="resource-item">
        <div>æ°‘ä¼—æ”¯æŒ</div>
        <div class="progress-bar" id="public-support-progress">
          <div class="progress-fill" style="width: 50%;"></div>
        </div>
        <span id="public-support">50</span>
      </div>
      
      <div class="resource-item">
        <div>ç²¾è‹±å¥½æ„Ÿ</div>
        <div class="progress-bar" id="elite-favor-progress">
          <div class="progress-fill" style="width: 50%;"></div>
        </div>
        <span id="elite-favor">50</span>
      </div>
      
      <div class="resource-item">
        å›åˆ: <span id="current-round">1</span>/50
      </div>
    </div>
    
    <!-- ä¸­å¤®å†³ç­–åŒº -->
    <div id="decision-area">
      <div id="policy-cards">
        <!-- æ”¿ç­–å¡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>
      
      <div id="execution-area">
        æ‹–æ‹½æ”¿ç­–å¡åˆ°æ­¤å¤„æ‰§è¡Œ
      </div>
      
      <div id="delay-queue">
        <!-- å»¶è¿Ÿé˜Ÿåˆ—å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
    
    <!-- å³ä¾§äº‹ä»¶æµ -->
    <div id="event-stream">
      <div id="current-event">
        <h3>å½“å‰äº‹ä»¶</h3>
        <p id="event-description">æš‚æ— äº‹ä»¶</p>
        <div id="event-options">
          <!-- äº‹ä»¶é€‰é¡¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>
      
      <div id="event-history">
        <h3>å†å²äº‹ä»¶</h3>
        <div id="history-list">
          <!-- å†å²äº‹ä»¶å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>
      
      <div id="next-round-preview">
        <span id="preview-lock">ğŸ”’</span>
        <span>æ¶ˆè€—æƒ…æŠ¥é¢„è§ˆä¸‹å›åˆ</span>
      </div>
    </div>
    
    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <div id="footer">
      <div class="nav-icon" id="npc-btn">NPC</div>
      <div class="nav-icon" id="legacy-btn">é—äº§</div>
      <button id="end-turn-btn">ç»“æŸå›åˆ</button>
      <div class="nav-icon" id="settings-btn">è®¾ç½®</div>
      <div class="nav-icon" id="help-btn">å¸®åŠ©</div>
    </div>
  </div>
  
  <!-- ç²¾è‹±æ™šå®´ç•Œé¢ -->
  <div id="banquet-screen">
    <div id="banquet-timer">15</div>
    <div id="banquet-dialog">
      <h2>ç²¾è‹±æ™šå®´</h2>
      <p id="banquet-message">ç»´å…‹å¤šÂ·é‡‘ä¸¾æ¯è¯´é“ï¼š"æ‰§æ”¿å®˜ï¼Œä»Šæ™šçš„é¦™æ§Ÿé¢„ç®—â€¦â€¦ä»æ‚¨çš„å›½åº“å‡ºï¼Ÿ"</p>
      <div id="banquet-options">
        <div class="banquet-option" data-choice="accept">åŒæ„</div>
        <div class="banquet-option" data-choice="reject">æ‹’ç»</div>
      </div>
    </div>
  </div>
  
  <!-- å…³ç³»ç½‘ç•Œé¢ -->
  <div id="npc-network-screen">
    <!-- å…³ç³»ç½‘å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
  </div>
  
  <script>
    // æ¸¸æˆçŠ¶æ€
    const gameState = {
      treasury: 100,
      publicSupport: 50,
      eliteFavor: 50,
      currentRound: 1,
      maxRound: 50,
      bureaucracyEfficiency: 50,
      
      // æ”¿ç­–å¡æ•°æ®
      policyCards: [
        {
          id: "POLI_001",
          name: "ç´§æ€¥é£Ÿå“æ´åŠ©",
          level: 1,
          cost: { treasury: -20 },
          effect: { publicSupport: 15 },
          sideEffect: { target: "eliteFavor", value: -5, delay: 1 },
          description: "å‘åŸºåº§åŒºå‘æ”¾åº”æ€¥é£Ÿå“åŒ…ï¼Œä½†ç²¾è‹±è®¤ä¸ºè¿™ä¼š'å…»æ‡’äºº'"
        },
        {
          id: "POLI_002",
          name: "åŸºç¡€è®¾æ–½æŠ•èµ„",
          level: 2,
          cost: { treasury: -30 },
          effect: { publicSupport: 5, eliteFavor: 10 },
          description: "ä¿®å»ºå…¬å…±è®¾æ–½ï¼Œåˆ›é€ å°±ä¸šä½†æˆæœ¬é«˜æ˜‚"
        },
        {
          id: "POLI_003",
          name: "å‡ç¨åˆºæ¿€",
          level: 2,
          cost: { treasury: -15 },
          effect: { eliteFavor: 20 },
          sideEffect: { target: "publicSupport", value: -10, delay: 0 },
          description: "é™ä½ä¼ä¸šç¨ç‡ï¼ŒææŒ¯ç»æµä½†æ°‘ä¼—ä¸æ»¡"
        }
      ],
      
      // å»¶è¿Ÿé˜Ÿåˆ—
      delayQueue: [],
      
      // äº‹ä»¶æ•°æ®
      currentEvent: null,
      eventHistory: [],
      
      // ç²¾è‹±æ™šå®´çŠ¶æ€
      banquetActive: false,
      banquetTimer: null,
      banquetTimeLeft: 15
    };

    // DOMå…ƒç´ å¼•ç”¨
    const elements = {
      treasury: document.getElementById('treasury'),
      publicSupport: document.getElementById('publicSupport'),
      eliteFavor: document.getElementById('eliteFavor'),
      currentRound: document.getElementById('current-round'),
      policyCards: document.getElementById('policy-cards'),
      executionArea: document.getElementById('execution-area'),
      delayQueue: document.getElementById('delay-queue'),
      eventDescription: document.getElementById('event-description'),
      eventOptions: document.getElementById('event-options'),
      banquetScreen: document.getElementById('banquet-screen'),
      banquetMessage: document.getElementById('banquet-message'),
      banquetTimer: document.getElementById('banquet-timer'),
      endTurnBtn: document.getElementById('end-turn-btn')
    };

    // åˆå§‹åŒ–æ¸¸æˆ
    function initGame() {
      updateResourceUI();
      renderPolicyCards();
      
      // ç»‘å®šäº‹ä»¶
      elements.endTurnBtn.addEventListener('click', endTurn);
      document.querySelectorAll('.banquet-option').forEach(option => {
        option.addEventListener('click', handleBanquetChoice);
      });
      
      // æ¯5å›åˆè§¦å‘ç²¾è‹±æ™šå®´
      if (gameState.currentRound % 5 === 0) {
        startBanquet();
      }
    }

    // æ›´æ–°èµ„æºUI
    function updateResourceUI() {
      elements.treasury.textContent = gameState.treasury;
      elements.publicSupport.textContent = gameState.publicSupport;
      elements.eliteFavor.textContent = gameState.eliteFavor;
      elements.currentRound.textContent = gameState.currentRound;
      
      // æ›´æ–°è¿›åº¦æ¡
      document.querySelector('#public-support-progress .progress-fill').style.width = `${gameState.publicSupport}%`;
      document.querySelector('#elite-favor-progress .progress-fill').style.width = `${gameState.eliteFavor}%`;
    }

    // æ¸²æŸ“æ”¿ç­–å¡
    function renderPolicyCards() {
      elements.policyCards.innerHTML = '';
      
      gameState.policyCards.forEach(card => {
        const cardElement = document.createElement('div');
        cardElement.className = 'policy-card';
        cardElement.innerHTML = `
          <h4>${card.name}</h4>
          <p>${card.description}</p>
          <p>æ¶ˆè€—å›½åº“: ${Math.abs(card.cost.treasury)}</p>
        `;
        
        // æ·»åŠ æ‹–æ‹½åŠŸèƒ½
        cardElement.draggable = true;
        cardElement.addEventListener('dragstart', (e) => {
          e.dataTransfer.setData('text/plain', card.id);
        });
        
        elements.policyCards.appendChild(cardElement);
      });
    }

    // æ‰§è¡ŒåŒºæ‹–æ”¾åŠŸèƒ½
    function setupExecutionArea() {
      elements.executionArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        elements.executionArea.style.borderColor = '#f1c40f';
      });
      
      elements.executionArea.addEventListener('dragleave', () => {
        elements.executionArea.style.borderColor = '#8B4513';
      });
      
      elements.executionArea.addEventListener('drop', (e) => {
        e.preventDefault();
        elements.executionArea.style.borderColor = '#8B4513';
        
        const cardId = e.dataTransfer.getData('text/plain');
        const card = gameState.policyCards.find(c => c.id === cardId);
        
        if (card) {
          executePolicyCard(card);
        }
      });
    }

    // æ‰§è¡Œæ”¿ç­–å¡
    function executePolicyCard(card) {
      // æ£€æŸ¥èµ„æºæ˜¯å¦è¶³å¤Ÿ
      if (gameState.treasury + card.cost.treasury < 0) {
        showResourceChange('å›½åº“ä¸è¶³', elements.executionArea, 'negative');
        return;
      }
      
      // æ”¯ä»˜å³æ—¶æˆæœ¬
      gameState.treasury += card.cost.treasury;
      showResourceChange(card.cost.treasury, elements.executionArea, 'negative');
      
      // è®¡ç®—å»¶è¿Ÿå›åˆæ•°
      const delayRounds = Math.ceil(card.level / (gameState.bureaucracyEfficiency / 50));
      
      // æ·»åŠ åˆ°å»¶è¿Ÿé˜Ÿåˆ—
      gameState.delayQueue.push({
        card,
        effectRound: gameState.currentRound + delayRounds,
        executed: false
      });
      
      // æ›´æ–°UI
      updateResourceUI();
      renderDelayQueue();
      
      // æ˜¾ç¤ºæ‰§è¡Œåé¦ˆ
      showResourceChange(`å·²å®‰æ’: ${card.name}`, elements.executionArea, 'positive');
    }

    // æ¸²æŸ“å»¶è¿Ÿé˜Ÿåˆ—
    function renderDelayQueue() {
      elements.delayQueue.innerHTML = '';
      
      gameState.delayQueue.forEach(item => {
        const delayElement = document.createElement('div');
        delayElement.className = 'delayed-card';
        delayElement.innerHTML = `
          <h5>${item.card.name}</h5>
          <p>å›åˆ: ${item.effectRound}</p>
        `;
        elements.delayQueue.appendChild(delayElement);
      });
    }

    // ç»“æŸå›åˆ
    function endTurn() {
      // è‡ªåŠ¨èµ„æºå˜åŒ–
      gameState.treasury -= 5; // ç»´æŠ¤è´¹
      gameState.publicSupport -= 5; // é¥¥é¥¿å¢é•¿
      gameState.eliteFavor -= 3; // æœŸå¾…æå‡
      
      // æ£€æŸ¥å»¶è¿Ÿé˜Ÿåˆ—
      checkDelayQueue();
      
      // å›åˆæ•°å¢åŠ 
      gameState.currentRound++;
      
      // æ›´æ–°UI
      updateResourceUI();
      
      // æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶
      if (checkGameOver()) {
        return;
      }
      
      // æ¯5å›åˆè§¦å‘ç²¾è‹±æ™šå®´
      if (gameState.currentRound % 5 === 0) {
        startBanquet();
      } else {
        // éšæœºäº‹ä»¶è§¦å‘
        if (Math.random() < 0.3) {
          triggerRandomEvent();
        }
      }
    }

    // æ£€æŸ¥å»¶è¿Ÿé˜Ÿåˆ—
    function checkDelayQueue() {
      for (let i = gameState.delayQueue.length - 1; i >= 0; i--) {
        const item = gameState.delayQueue[i];
        
        if (gameState.currentRound >= item.effectRound && !item.executed) {
          // æ‰§è¡Œæ•ˆæœ
          if (item.card.effect.publicSupport) {
            gameState.publicSupport += item.card.effect.publicSupport;
            showResourceChange(`+${item.card.effect.publicSupport} æ°‘ä¼—æ”¯æŒ`, elements.executionArea, 'positive');
          }
          
          if (item.card.effect.eliteFavor) {
            gameState.eliteFavor += item.card.effect.eliteFavor;
            showResourceChange(`+${item.card.effect.eliteFavor} ç²¾è‹±å¥½æ„Ÿ`, elements.executionArea, 'positive');
          }
          
          // å¤„ç†å‰¯ä½œç”¨
          if (item.card.sideEffect) {
            if (item.card.sideEffect.delay === 0) {
              // ç«‹å³ç”Ÿæ•ˆçš„å‰¯ä½œç”¨
              gameState[item.card.sideEffect.target] += item.card.sideEffect.value;
              showResourceChange(`${item.card.sideEffect.value} ${item.card.sideEffect.target}`, elements.executionArea, 'negative');
            } else {
              // å»¶è¿Ÿçš„å‰¯ä½œç”¨åŠ å…¥é˜Ÿåˆ—
              gameState.delayQueue.push({
                card: {
                  name: 'å‰¯ä½œç”¨',
                  effect: { [item.card.sideEffect.target]: item.card.sideEffect.value }
                },
                effectRound: gameState.currentRound + item.card.sideEffect.delay,
                executed: false
              });
            }
          }
          
          // æ ‡è®°ä¸ºå·²æ‰§è¡Œ
          item.executed = true;
          
          // ä»é˜Ÿåˆ—ä¸­ç§»é™¤
          gameState.delayQueue.splice(i, 1);
        }
      }
      
      renderDelayQueue();
      updateResourceUI();
    }

    // è§¦å‘éšæœºäº‹ä»¶
    function triggerRandomEvent() {
      const events = [
        {
          description: "åŸºåº§åŒºå‡ºç°é»‘å¸‚ç²®è´©ï¼Œæ˜¯å¦å–ç¼”ï¼Ÿ",
          options: [
            { text: "å–ç¼”", effect: { publicSupport: -5, eliteFavor: 5 } },
            { text: "é»˜è®¸", effect: { publicSupport: 5, eliteFavor: -5 } }
          ]
        },
        {
          description: "é‡‘é¡¶ä¿±ä¹éƒ¨è¦æ±‚å‡ç¨ï¼Œæ˜¯å¦åŒæ„ï¼Ÿ",
          options: [
            { text: "åŒæ„", effect: { treasury: -15, eliteFavor: 10 } },
            { text: "æ‹’ç»", effect: { eliteFavor: -15 } }
          ]
        }
      ];
      
      const event = events[Math.floor(Math.random() * events.length)];
      gameState.currentEvent = event;
      
      // æ¸²æŸ“äº‹ä»¶
      elements.eventDescription.textContent = event.description;
      elements.eventOptions.innerHTML = '';
      
      event.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.textContent = option.text;
        button.addEventListener('click', () => handleEventChoice(index));
        elements.eventOptions.appendChild(button);
      });
    }

    // å¤„ç†äº‹ä»¶é€‰æ‹©
    function handleEventChoice(choiceIndex) {
      const option = gameState.currentEvent.options[choiceIndex];
      
      // åº”ç”¨æ•ˆæœ
      Object.keys(option.effect).forEach(key => {
        gameState[key] += option.effect[key];
        showResourceChange(`${option.effect[key]} ${key}`, elements.eventOptions, option.effect[key] > 0 ? 'positive' : 'negative');
      });
      
      // æ·»åŠ åˆ°å†å²
      gameState.eventHistory.push({
        round: gameState.currentRound,
        description: gameState.currentEvent.description,
        choice: option.text
      });
      
      // æ›´æ–°UI
      updateResourceUI();
      renderEventHistory();
      
      // æ¸…é™¤å½“å‰äº‹ä»¶
      gameState.currentEvent = null;
      elements.eventDescription.textContent = 'æš‚æ— äº‹ä»¶';
      elements.eventOptions.innerHTML = '';
    }

    // æ¸²æŸ“å†å²äº‹ä»¶
    function renderEventHistory() {
      const historyList = document.getElementById('history-list');
      historyList.innerHTML = '';
      
      gameState.eventHistory.slice().reverse().forEach(event => {
        const item = document.createElement('div');
        item.className = 'event-item';
        item.textContent = `å›åˆ ${event.round}: ${event.description} â†’ é€‰æ‹©: ${event.choice}`;
        historyList.appendChild(item);
      });
    }

    // å¼€å§‹ç²¾è‹±æ™šå®´
    function startBanquet() {
      gameState.banquetActive = true;
      gameState.banquetTimeLeft = 15;
      elements.banquetScreen.style.display = 'flex';
      elements.banquetTimer.textContent = gameState.banquetTimeLeft;
      
      // è®¾ç½®å€’è®¡æ—¶
      gameState.banquetTimer = setInterval(() => {
        gameState.banquetTimeLeft--;
        elements.banquetTimer.textContent = gameState.banquetTimeLeft;
        
        if (gameState.banquetTimeLeft <= 0) {
          // æ—¶é—´åˆ°ï¼Œè‡ªåŠ¨æ‹’ç»
          clearInterval(gameState.banquetTimer);
          handleBanquetChoice('reject');
        }
      }, 1000);
    }

    // å¤„ç†æ™šå®´é€‰æ‹©
    function handleBanquetChoice(choice) {
      clearInterval(gameState.banquetTimer);
      
      if (choice === 'accept') {
        // åŒæ„
        gameState.treasury -= 10;
        gameState.eliteFavor += 15;
        showResourceChange('-10 å›½åº“', elements.banquetScreen, 'negative');
        showResourceChange('+15 ç²¾è‹±å¥½æ„Ÿ', elements.banquetScreen, 'positive');
      } else {
        // æ‹’ç»
        gameState.eliteFavor -= 20;
        showResourceChange('-20 ç²¾è‹±å¥½æ„Ÿ', elements.banquetScreen, 'negative');
      }
      
      // æ›´æ–°UI
      updateResourceUI();
      
      // å…³é—­æ™šå®´ç•Œé¢
      elements.banquetScreen.style.display = 'none';
      gameState.banquetActive = false;
    }

    // æ˜¾ç¤ºèµ„æºå˜åŒ–åŠ¨ç”»
    function showResourceChange(text, parentElement, className) {
      const changeElement = document.createElement('div');
      changeElement.textContent = text;
      changeElement.className = `resource-change ${className}`;
      
      // éšæœºä½ç½®
      const rect = parentElement.getBoundingClientRect();
      const x = rect.left + Math.random() * rect.width;
      const y = rect.top + Math.random() * rect.height;
      
      changeElement.style.left = `${x}px`;
      changeElement.style.top = `${y}px`;
      
      document.body.appendChild(changeElement);
      
      // 1ç§’åç§»é™¤
      setTimeout(() => {
        changeElement.remove();
      }, 1000);
    }

    // æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶
    function checkGameOver() {
      if (gameState.publicSupport < 20) {
        alert('é©å‘½çˆ†å‘ï¼æ°‘ä¼—æ”¯æŒåº¦è¿‡ä½ï¼Œæ¸¸æˆç»“æŸ');
        return true;
      }
      
      if (gameState.treasury < 0) {
        alert('å›½å®¶ç ´äº§ï¼å›½åº“è€—å°½ï¼Œæ¸¸æˆç»“æŸ');
        return true;
      }
      
      if (gameState.eliteFavor < 30) {
        alert('æ”¿å˜å‘ç”Ÿï¼ç²¾è‹±å¥½æ„Ÿåº¦è¿‡ä½ï¼Œæ¸¸æˆç»“æŸ');
        return true;
      }
      
      if (gameState.currentRound > gameState.maxRound) {
        alert('æ­å–œï¼ä½ æˆåŠŸå®Œæˆäº†50å›åˆæ‰§æ”¿');
        return true;
      }
      
      return false;
    }

    // åˆå§‹åŒ–
    window.onload = function() {
      setupExecutionArea();
      initGame();
    };
  </script>
</body>
</html>
```

è¿™ä¸ªå®Œæ•´çš„HTMLæ–‡ä»¶åŒ…å«äº†ã€Šé•€é‡‘å¤©å¹³ã€‹æ¸¸æˆçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼š
1. å®Œæ•´çš„UIç•Œé¢ï¼ŒåŒ…æ‹¬èµ„æºçŠ¶æ€æ ã€æ”¿ç­–å¡åŒºåŸŸã€æ‰§è¡ŒåŒºå’Œäº‹ä»¶æµ
2. æ”¿ç­–å¡æ‹–æ‹½æ‰§è¡ŒåŠŸèƒ½
3. å»¶è¿Ÿæ•ˆæœç³»ç»Ÿ
4. ç²¾è‹±æ™šå®´å¼ºåˆ¶äº‹ä»¶
5. éšæœºäº‹ä»¶ç³»ç»Ÿ
6. èµ„æºå˜åŒ–åŠ¨ç”»åé¦ˆ
7. æ¸¸æˆç»“æŸæ¡ä»¶æ£€æµ‹

ç©å®¶å¯ä»¥ä½“éªŒå®Œæ•´çš„æ¸¸æˆå¾ªç¯ï¼ŒåŒ…æ‹¬ç®¡ç†ä¸‰ç§èµ„æºã€æ‰§è¡Œæ”¿ç­–å¡ã€å¤„ç†äº‹ä»¶å’Œå‚åŠ ç²¾è‹±æ™šå®´ç­‰æ ¸å¿ƒç©æ³•ã€‚